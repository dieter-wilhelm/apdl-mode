<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-09-09 Do 15:48 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Guided APDL-Mode hands-on Tutorial</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="H. Dieter Wilhelm" />
<meta name="description" content="Guided APDL-Mode hands-on APDL Tutorial, Version 20.6.0"
 />
<meta name="keywords" content="Emacs Ansys FEA APDL MAPDL" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../index.html"> UP </a>
 |
 <a accesskey="H" href="https://github.com/dieter-wilhelm/ansys-mode"> HOME </a>
</div><div id="content">
<h1 class="title">Guided APDL-Mode hands-on Tutorial</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd32ec70">Introduction</a></li>
<li><a href="#orgc4e3771">APDL viewing</a></li>
<li><a href="#org9194a59">APDL editing</a></li>
<li><a href="#orgddfa9fb">APDL environment</a></li>
<li><a href="#org0370647">Appendix</a></li>
<li><a href="#orgbf3ecee">Summary and Acknowledgements</a></li>
</ul>
</div>
</div>
<div class="LaTeX">
<p>
  \definecolor{dkgreen}{rgb}{0,0.5,0}
  \definecolor{dkred}{rgb}{0.5,0,0}
  \definecolor{gray}{rgb}{0.5,0.5,0.5}
  \lstset{frame=none, %leftline
    basicstyle=\ttfamily\bfseries\footnotesize,
    morekeywords={virtualinvoke},
    keywordstyle=\color{dkgreen},
    ndkeywordstyle=\color{red},
    commentstyle=\color{dkred},
    stringstyle=\color{orange},
%   numbers=left,
%    numberstyle=\ttfamily\tiny\color{gray},
%    stepnumber=1,
%    numbersep=10pt,
    backgroundcolor=\color{white},
    tabsize=4,
 %   showspaces=false,
%    showstringspaces=false,
    xleftmargin=.23in
  }
</p>

<p>
\lstdefinelanguage{ansys}
  {
  morecomment=[l]{!},
  morecomment=[l]{\ *}, % olds style comments
  morestring=[b]',
  morekeywords={nsel,et,mp,block,d,vmesh,allsel,save,solve,plnsol,finish,
     aplot,eplot},
  otherkeywords={*if,*do,*enddo,*dowhile,*create,*end,*endif,/title,/com,
    /units,/prep7,/solu,/post1,/post26,/eof},
  sensitive=false
}
</p>

</div>

<div id="outline-container-orgd32ec70" class="outline-2">
<h2 id="orgd32ec70">Introduction</h2>
<div class="outline-text-2" id="text-orgd32ec70">

<div class="figure">
<p><img src="./ansys+emacs2020-03.png" alt="ansys+emacs2020-03.png" width="600" />
</p>
</div>

<p>
Being an editor mode, we are mainly dealing with text, i. e. APDL
code.  But <b>also</b> many things in this language's context.
</p>

<p>
Since the relevance of APDL remains tall: `WorkBench' operates
<b>exclusively</b> the Ansys solver with it!  While for many
applications WorkBench is taking over the "code authoring" part
from the user, use APDL for <b>repetitive</b> tasks and command
snippets, <b>extending</b> WB.
</p>
</div>

<div id="outline-container-orge0fd5ce" class="outline-3">
<h3 id="orge0fd5ce">Target audience</h3>
<div class="outline-text-3" id="text-orge0fd5ce">
<dl class="org-dl">
<dt>APDL coders</dt><dd>You have repetitive tasks and write APDL</dd>
<dt>Users of WorkBench using command snippets</dt><dd>extending WorkBench</dd>
<dt>WorkBench users interested in the true understanding</dt><dd>of their
tool, The WorkBench manual is informative but if you really
must know how a `remote force' is implemented and what the
options really mean.  You have no other choise as exporting
the solver input file (.inp) and studying it with the APDL
command reference.</dd>
</dl>
</div>
</div>
<div id="outline-container-org4ce97ca" class="outline-3">
<h3 id="org4ce97ca">Using this tutorial</h3>
<div class="outline-text-3" id="text-org4ce97ca">
</div>
<div id="outline-container-orge83a79b" class="outline-4">
<h4 id="orge83a79b">Please read the <b>introductory</b> APDL-Mode tutorial first</h4>
<div class="outline-text-4" id="text-orge83a79b">
<p>
This is the file `A-M_introductory_tutorial-162-1.pdf' in the
mode's archive or use its <a href="https://dieter-wilhelm.github.io/ansys-mode/doc/A-M_in-depth_tutorial.html">online</a> version.
</p>

<p>
Ah yes, you are in a hurry (I thought so). <b>In summary:</b> You
will get an illustrated overiew how APDL-Mode can improve your
workflows and that the software is available without any costs and
with (practically) no license restrictions also for commercial
use.
</p>

<p>
Simply download the proper mode archive, extract it anywhere. For
the Windows version with the pre-configured mode all system
independent things should run without the need of any
configuration.
</p>

<p>
In the following <b>bold</b> character combinations like <b>C-c</b> or <b>M-c</b>
mean typing the &lt;CTRL&gt; key or &lt;ALT&gt; (formerly called `Meta') key
together with the &lt;c&gt; key.
</p>
</div>
</div>
<div id="outline-container-org20f3d14" class="outline-4">
<h4 id="org20f3d14">Please, please work through this tutorial side by side <b>with</b> Emacs</h4>
<div class="outline-text-4" id="text-org20f3d14">
<p>
Especially for the APDL examples, which look like the following
code line.
</p>
<div class="org-src-container">
<pre class="src src-ansys">/com,Hello world         !This font represents APDL code!
</pre>
</div>

<p>
All necessary APDL code for working hands-on on the following
examples is available in a supplementary file, as described
further down.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc4e3771" class="outline-2">
<h2 id="orgc4e3771">APDL viewing</h2>
<div class="outline-text-2" id="text-orgc4e3771">
<p>
You can achieve all actions in this section from the menu <b>or</b> with
keyboard shortcuts.
</p>
</div>
<div id="outline-container-orgfba69cf" class="outline-3">
<h3 id="orgfba69cf">Open some WorkBench solver input file</h3>
<div class="outline-text-3" id="text-orgfba69cf">
<p>
Drag and drop it on Emacs or use the `File' menu:
</p>


<div class="figure">
<p><img src="./find_file_dialog.png" alt="find_file_dialog.png" />
</p>
</div>

<p>
(Shortcut <b>C-x C-f</b>) &#x2026; and inspect its content.
</p>
</div>
</div>
<div id="outline-container-org2008bbb" class="outline-3">
<h3 id="org2008bbb">Use APDL-Mode's `command help'</h3>
<div class="outline-text-3" id="text-org2008bbb">

<div class="figure">
<p><img src="./parameter_help.png" alt="parameter_help.png" />
</p>
</div>

<p>
(keybinding <b>M-?</b>, it is working in comment lines as well)
</p>
</div>
</div>
<div id="outline-container-org5a5a628" class="outline-3">
<h3 id="org5a5a628">Open the `Ansys help browser'</h3>
<div class="outline-text-3" id="text-org5a5a628">
<p>
for further assistence. (Keybinding <b>C-c C-h</b>)
</p>
</div>
</div>
<div id="outline-container-org86ec39e" class="outline-3">
<h3 id="org86ec39e">Navigate through the `number blocks' in .dat files</h3>
<div class="outline-text-3" id="text-org86ec39e">
<p>
Skip the node- and element blocks with the menu entry Ansys:
Work_with_locical_blocks: End_of_number_block etc. (Keybinding <b>C-c
{</b>)
</p>
</div>
</div>
</div>
<div id="outline-container-org9194a59" class="outline-2">
<h2 id="org9194a59">APDL editing</h2>
<div class="outline-text-2" id="text-org9194a59">
</div>
<div id="outline-container-org5053959" class="outline-3">
<h3 id="org5053959">Use the log file from Ansys Classics to get APDL</h3>
</div>
<div id="outline-container-org1c32c8c" class="outline-3">
<h3 id="org1c32c8c">Extensible APDL templates</h3>
<div class="outline-text-3" id="text-org1c32c8c">
<p>
Some of the existing templates are collections of (all) available
commands to certain subjects.  They are more intended to be
previewed and only parts of it might be copied and inserted.
Others are self-contained "mini simulations" or skeletons for
starting a new project or, respectively, supplementing an existing
one. These are more apt for their complete insertion.
</p>

<p>
You can build your own library.  <b>Everything</b> is extensible in
Emacs and APDL-Mode, not only the APDL templates!
</p>
</div>

<div id="outline-container-orgffc094f" class="outline-4">
<h4 id="orgffc094f">Open this tutorial's APDL source file</h4>
<div class="outline-text-4" id="text-orgffc094f">
<div class="org-src-container">
<pre class="src src-ansys">!! Open `APDL_tutorial.ans' with "C-x C-f"!  You can take this
!! file from the latest mode's archives.
</pre>
</div>
</div>
</div>
<div id="outline-container-org0f15ba3" class="outline-4">
<h4 id="org0f15ba3">Inspect available code templates</h4>
<div class="outline-text-4" id="text-org0f15ba3">
<p>
Screenshot with the Ansys Classics GUI (left) and Emacs (right) on Win64
</p>


<div class="figure">
<p><img src="./template_menu.png" alt="template_menu.png" width="1000" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-ansys">!! Check out all available and extendable APDL templates!
!! Type "C-c C-s" to trigger the APDL-Mode template preview
!! and then the &lt;TAB&gt; key for a completion window.
!!
</pre>
</div>


<div class="figure">
<p><img src="./template_selection.png" alt="template_selection.png" />
</p>
</div>
</div>

<div id="outline-container-org3c07cd7" class="outline-5">
<h5 id="org3c07cd7">Preview the APDL `function' template of parametric- and *get functions</h5>
<div class="outline-text-5" id="text-org3c07cd7">
<div class="org-src-container">
<pre class="src src-ansys">!! Write now "ansys-skeleton-function"!  Let Emacs complete
!! your input (use the &lt;TAB&gt; key).  Conclude it with &lt;RET&gt;.
!!
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org1618e64" class="outline-4">
<h4 id="org1618e64">Add a certain code template to your APDL code</h4>
<div class="outline-text-4" id="text-org1618e64">
<div class="org-src-container">
<pre class="src src-ansys">!! Insert below the following line the structural template!  Type
!! "M-x ansys-skeleton-structural-template" for insertion instead of
!! previewing. (You can insert a template with "C-u C-c C-s" as well.)
!!
</pre>
</div>
<p>
After giving a short description, it should look like this:
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! "M-x ansys-skeleton-structural-template" for insertion instead of
!! previewing. (You can insert a template with "C-u C-c C-s" as well.)
!! ------------------------------
!@ --- file header ---
!! ------------------------------
!! Time-stamp: &lt;Sat Jun 23 02:47:11 2012&gt;
!! Ansys VERSION: 140
!! UNITS: mm-t-s
!! NOTE: template example
!! ------------------------------
! fini
! /clear
! y
/units,mpa !indicate mm-t-s unit system
!@ --- Preprocessing ---
/prep7
!@@ -- Elements --
Steel = 1
ID = Steel
real = Steel
et,ID,solid186 !3d, 20 node
!@@ -- Material --
mp,nuxy,Steel,0.3 ! Poisson No
mp,ex,Steel,200000 ! Elastic modulus
!@@ -- Modeling --
block,0,1,0,1,0,1
!@@ -- Meshing --
vmesh,all
!@@ -- BCs, Loads --
nsel,s,loc,x,0
d,all,all
nsel,s,loc,x,1
d,all,uy,-.1
allsel
save
!@ --- Solving ---
/solu
solve
!@ --- Postprocessing --
/post1
plnsol,u,sum,2
</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">!! Insert below the following line `ansys-skeleton-outline-template'!
!!
</pre>
</div>
<p>
The idea is to have a skeleton for starting a new APDL project.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Insert below the following line `ansys-skeleton-outline-template'!
!!
!@ ==============================
!@ --- Header ---
!@ ==============================

!! FILENAME: APDL_tutorial.ans
!! CREATION DATE: Tue Jun 26 01:02:07 2012
!! Ansys VERSION: 140
!! DESCRIPTION: outline example

!@ ==============================
!@ --- Setup ---
!@ ==============================

finish

!@ ==============================
!@ --- Preprocessing ---
!@ ==============================

!@ ------------------------------
!@@ -- Cad Import --
!! ------------------------------

!! /aux15

!@ ------------------------------
!@@ -- General Preprocessing --
!! ------------------------------

/prep7

!! ..............................
!@@@ - Materials and element types -
!! ..............................

!! --- Solids ---

!! --- Contacts ---

!! ..............................
!@@@ - Geometry -
!! ..............................

!! ..............................
!@@@ - Meshing -
!! ..............................

!! ..............................
!@@@ - Boundary conditions -
!! ..............................

!@ ==============================
!@ --- Solution ---
!@ ==============================

/solu
allsel

!@ ------------------------------
!@@ --  Solution controls --
!! ------------------------------

!@ ==============================
!@ --- Postprocessing ---
!@ ==============================

!@ ------------------------------
!@@ -- General Postprocessing --
!! ------------------------------

/post1

!@ ------------------------------
!@@ -- Time-History Postprocessing --
!! ------------------------------

/post26
</pre>
</div>
</div>
</div>

<div id="outline-container-org3961a91" class="outline-4">
<h4 id="org3961a91">Extend or create a template</h4>
<div class="outline-text-4" id="text-org3961a91">
<p>
Check out the code for a template, the Emacs self-documenting help
principle will guide you to its definition file.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-h f" for Emacs' function help and write
!! "ansys-skeleton-structural-template" (let Emacs complete it)!
!!
</pre>
</div>
<p>
May the source be with you!
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! In the *help* window follow the link to the source file
!! directly to the relevant skeleton function.
</pre>
</div>
<p>
You can modify, extend or create new code to your hearts content.
</p>
</div>
</div>
</div>
<div id="outline-container-orgaaebf40" class="outline-3">
<h3 id="orgaaebf40">Outline and folding your code</h3>
<div class="outline-text-3" id="text-orgaaebf40">
<p>
!@, !@@, !@@@ are the heading indicators
</p>

<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c @ C-t" to collapse the code to its headings
!! Type "C-c @ C-e" to show a certain entry of a heading
!! Type "C-c @ C-a" to show all again
!!
</pre>
</div>
<p>
Helpful to get an overview of large APDL file.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!@ ==============================
!@ --- Header ---
!@ ==============================...
!@ ==============================
!@ --- Setup ---
!@ ==============================...
!@ ==============================
!@ --- Preprocessing ---
!@ ==============================...
!@ ------------------------------
!@@ -- Cad Import --...
!@ ------------------------------
!@@ -- General Preprocessing -- ...
!@@@ - Materials and element types -...
!@@@ - Geometry -...
!@@@ - Meshing -...
!@@@ - Boundary conditions -...
!@ ==============================
!@ --- Solution ---
!@ ==============================...
!@ ------------------------------
!@@ --  Solution controls -- ...
!@ ==============================
!@ --- Postprocessing ---
!@ ==============================...
!@ ------------------------------
!@@ -- General Postprocessing -- ...
!@ ------------------------------
!@@ -- Time-History Postprocessing --...
</pre>
</div>
<p>
Open now one entry with <b>C-c @ C-e</b> (in a line with 3 dots)
</p>
<div class="org-src-container">
<pre class="src src-ansys">!@ ==============================
!@ --- Header ---
!@ ==============================...
!@ ==============================
!@ --- Setup ---
!@ ==============================...
!@ ==============================
!@ --- Preprocessing ---
!@ ==============================...
!@ ------------------------------
!@@ -- Cad Import --...
!@ ------------------------------
!@@ -- General Preprocessing -- ...
!@@@ - Materials and element types -...
!@@@ - Geometry -...
!@@@ - Meshing -...
!@@@ - Boundary conditions -...
!@ ==============================
!@ --- Solution ---
!@ ==============================

/solu
allsel

!@ ------------------------------
!@@ --  Solution controls -- ...
!@ ==============================
!@ --- Postprocessing ---
!@ ==============================...
!@ ------------------------------
!@@ -- General Postprocessing -- ...
!@ ------------------------------
!@@ -- Time-History Postprocessing --...
</pre>
</div>
<p>
In above example it was the entry below the `Solution' heading.
</p>
</div>
</div>
<div id="outline-container-orga778e6a" class="outline-3">
<h3 id="orga778e6a">Comments</h3>
<div class="outline-text-3" id="text-orga778e6a">
</div>
<div id="outline-container-orgfc65359" class="outline-4">
<h4 id="orgfc65359">Place comments</h4>
<div class="outline-text-4" id="text-orgfc65359">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "M-;" in the empty line below the code
!!
*if,I,eq,2,then

</pre>
</div>
<p>
which places the comment characters (here `!! ') already with the
right indentation
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "M-;" in the empty line below the code
!!
*if,I,eq,2,then
  !!
</pre>
</div>
</div>
</div>
<div id="outline-container-orgca85dac" class="outline-4">
<h4 id="orgca85dac">Commenting out</h4>
<div class="outline-text-4" id="text-orgca85dac">
<div class="org-src-container">
<pre class="src src-ansys">!! Mark some text above (e. g. dragging the mouse with LMB or you
!! can mark the section with "M-h") and then type "M-;"
!!
</pre>
</div>

<p>
After marking the whole paragraph with "M-h" and typing "M-;" above
code should look like the following
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! !! Type "M-;" in the empty line below
!! *if,I,eq,2,then
!!   !!
</pre>
</div>
</div>
</div>
<div id="outline-container-org3b0085c" class="outline-4">
<h4 id="org3b0085c">Uncomment the code</h4>
<div class="outline-text-4" id="text-org3b0085c">
<div class="org-src-container">
<pre class="src src-ansys">!! Mark above commented out code and retype "M-;"
!!
</pre>
</div>
<p>
Here we are again
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "M-;" in the empty line below
*if,I,eq,2,then
  !!
</pre>
</div>
</div>
</div>
<div id="outline-container-org33c9fc4" class="outline-4">
<h4 id="org33c9fc4">Place inline comments</h4>
<div class="outline-text-4" id="text-org33c9fc4">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "M-;" somewhere in the following code line
!!
nsel,s,loc,x,0,1

</pre>
</div>
<p>
<b>M-;</b> does the right thing and places a comment character behind
 the code:
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "M-;" somewhere in the following code line
!!
nsel,s,loc,x,0,1         !this is an `inline comment'
</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor in this line and type "M-;"
!!
nsel,s,loc,x,0,1!another inline comment
</pre>
</div>
<p>
For an existing inline comment <b>M-j</b> indents it and skips the cursor
to the comment beginning.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor in this line and type "M-;"
!!
nsel,s,loc,x,0,1         !another inline comment
</pre>
</div>
<p>
Is this not nicely thought out from Emacs' developers, is it?
</p>
</div>
</div>
<div id="outline-container-org8d80b93" class="outline-4">
<h4 id="org8d80b93">Continue and indent your comments</h4>
<div class="outline-text-4" id="text-org8d80b93">
</div>
<div id="outline-container-orgf3dfffc" class="outline-5">
<h5 id="orgf3dfffc">In inline comments</h5>
<div class="outline-text-5" id="text-orgf3dfffc">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "M-j" behind the inline comment
!!
nsel,s,loc,x,0,1         ! this is an `inline comment'

</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "M-j" behind the inline comment
!!
nsel,s,loc,x,0,1         ! this is an `inline comment'
			 ! continued above comment
</pre>
</div>
</div>
</div>
<div id="outline-container-org0ab326b" class="outline-5">
<h5 id="org0ab326b">In regular comments</h5>
<div class="outline-text-5" id="text-org0ab326b">
<div class="org-src-container">
<pre class="src src-ansys">*if,I,eq,1,then
  !! Type "M-j" behind this line
*endif
!! Emacs will break the line, insert and indent properly comment characters
</pre>
</div>
<p>
Emacs places comment characters for you, properly indented also
within logical block structures.
</p>
<div class="org-src-container">
<pre class="src src-ansys">*if,I,eq,1,then
  !! Type "M-j" behind this line
  !!
*endif
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org00ae3d3" class="outline-3">
<h3 id="org00ae3d3">Check out APDL-Mode's built-in documentation</h3>
<div class="outline-text-3" id="text-org00ae3d3">
<p>
It is allways with you.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-h m" for reading the built-in mode help
!! search for the section with its keybindings!
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfdd4bfe" class="outline-3">
<h3 id="orgfdd4bfe">APDL variable listing</h3>
<div class="outline-text-3" id="text-orgfdd4bfe">
<p>
The listing is an alternative to the `*status' command and includes
also implicit definitions (*vget, etc.) and component names and the
respective line No.
</p>

<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c C-v" for a summary window of variable definitions
!! This includes also implicit definitions and component names
!!
</pre>
</div>


<div class="figure">
<p><img src="./variable_buffer.png" alt="variable_buffer.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-org20e9787" class="outline-3">
<h3 id="org20e9787">Align your variable definitions</h3>
<div class="outline-text-3" id="text-org20e9787">

<div class="figure">
<p><img src="./alignment.png" alt="alignment.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor on the following section and type "C-c C-a"
!!
</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">x=0.4!laskd
y= 33.0	    ! alskdl
xzv= 9999990.3	    !!
llk = 0.333333333 !bla
al_=  00.40
aslfoeas = 304
ka= .4	    !salkd
i = 4.		    !as
kasd=.3/0.4
kasd =3./0.4
xxx =asin(3.0)
y = cos(i)
</pre>
</div>
<p>
The result looks like the code below, with the numbers aligned
around the decimal point
</p>

<p>
Yes, these assignments are a mess (intentionally), but imagine how
nifty it will look with <b>your</b> code!
</p>
<div class="org-src-container">
<pre class="src src-ansys">x        =       0.4         !laskd
y        =      33.0         ! alskdl
xzv      = 9999990.3         !!
llk      =       0.333333333 !bla
al_      =      00.40
aslfoeas =     304
ka       =        .4         !salkd
i        =       4.          !as
kasd     =        .3/0.4
kasd     =       3./0.4
xxx      =        asin(3.0)
y        =        cos(i)
</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">!! Mark only a PART of following section and type "C-c C-a"
!!
</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">x=0.4!laskd
y= 33.0	    ! alskdl
xzv= 9999990.3	    !!
llk = 0.333333333 !bla
al_=  00.40
aslfoeas = 304
ka= .4	    !salkd
i = 4.		    !as
kasd=.3/0.4
kasd =3./0.4
xxx =asin(3.0)
y = cos(i)
</pre>
</div>
<p>
The result might look like this:
</p>
<div class="org-src-container">
<pre class="src src-ansys">x=0.4!laskd
y= 33.0     ! alskdl
xzv= 9999990.3      !!
llk = 0.333333333 !bla
al_=  00.40
aslfoeas = 304
ka       =    .4 !salkd
i        =   4.  !as
kasd     =    .3/0.4
kasd     =   3./0.4
xxx =asin(3.0)
y = cos(i)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc4ae17a" class="outline-3">
<h3 id="orgc4ae17a">Completions (around 2000 Ansys symbols)</h3>
<div class="outline-text-3" id="text-orgc4ae17a">
<p>
Case sensitive completions except for mouse completion
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Check out all APDL symbols, up to date with the latest Ansys version
!! Place the cursor behind the 'c' character below and type "&lt;ESC&gt; &lt;TAB&gt;"
!!
c
</pre>
</div>
<p>
The completion window should look like the following:
</p>


<div class="figure">
<p><img src="./completion.png" alt="completion.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-ansys">!! Let Emacs complete `cml' and apply (again) "M-?"
!!
cml
</pre>
</div>
<p>
Gives you the `cmlist' command
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Let Emacs complete `cml' and apply (again) "M-?"
!!
cmlist
</pre>
</div>
</div>
<div id="outline-container-org6efee67" class="outline-4">
<h4 id="org6efee67">Completion of functions</h4>
<div class="outline-text-4" id="text-org6efee67">
<p>
Completed function names have parentheses appended
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! place the cursor behind 'aco' and type "&lt;ESC&gt; &lt;TAB&gt;" and so forth
!!
</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">  P = aco         ! lower case completion
  P = Sig         ! upper case completion
  P = ARNE	  ! Capitalisation
#+end_src ansys
    Note that the cursor after the completion is conveniently placed
    inside the parentheses.  The completions are unique in above
    examples and expand immediately to:
#+begin_src ansys :tangle no
  P = acos()
  P = Sign()
  P = ARNEXT()
</pre>
</div>
</div>
</div>
<div id="outline-container-org9f2f827" class="outline-4">
<h4 id="org9f2f827">Completion of elements</h4>
<div class="outline-text-4" id="text-org9f2f827">
<p>
APDL-Mode also complets Ansys deprecated element names but warns you
with a distinct highlighting!
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Completion of element names: type "&lt;ESC&gt; &lt;TAB&gt;" behind `shell'
!!
shell
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc0929e4" class="outline-4">
<h4 id="orgc0929e4">Completion of commands</h4>
<div class="outline-text-4" id="text-orgc0929e4">
<div class="org-src-container">
<pre class="src src-ansys">!! Completion of command names: type "&lt;ESC&gt; &lt;TAB&gt;" behind `a'
!!
a
</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">!! Note Emacs' message that `a' is already a valid Ansys symbol!
!! It is highlighted already as a command, but it is further completable.
</pre>
</div>
</div>
</div>
<div id="outline-container-orgecb1cd5" class="outline-4">
<h4 id="orgecb1cd5">Dynamic completion</h4>
<div class="outline-text-4" id="text-orgecb1cd5">
<p>
Is a completion on the basis of the window's content, the
following example will demonstrate what this means.
</p>

<div class="org-src-container">
<pre class="src src-ansys">!! some code...
very_long_Variable = 3
vlV = 8
!! type "M-/" repeatedly behind below character `v'
!!
v
</pre>
</div>
<p>
After typing the first time <b>M-/</b>:
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! type "M-/" repeatedly behind below character `v'
!!
vlV
</pre>
</div>
<p>
Emacs is looking above what matches the 'v' and finds `vlV' from
the assignment `vlV = 8'.
</p>

<p>
After typing the second time <b>M-/</b>:
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! type "M-/" repeatedly behind below character `v'
!!
very_long_Variable
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgece309d" class="outline-3">
<h3 id="orgece309d">Abbreviations facility</h3>
<div class="outline-text-3" id="text-orgece309d">
</div>
<div id="outline-container-org690a09b" class="outline-4">
<h4 id="org690a09b">Use the APDL-Mode defined abbreviations</h4>
<div class="outline-text-4" id="text-org690a09b">
<div class="org-src-container">
<pre class="src src-ansys">!! type a &lt;SPACE&gt; behind the special character ``' and abbreviation characters
!!
`p                      ! The Pi assignment abbreviation
`d                      ! Abbreviation of a *do loop
`do                     ! Interactive *do loop abbrev.
</pre>
</div>
<p>
The abbreviations expand to:
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! type a &lt;SPACE&gt; behind the special character ``' and abbreviation characters
!!
Pi=3.14159265359
! This is the Pi assignment
*do,I,1,10,1

*cycle !bypass below commands in *do loop
*enddo

! Abbreviation of a *do loop
*do,I,1,,1

*enddo

! Interactive *do loop abbrev.
</pre>
</div>
<p>
Inspect available abbreviation definitions from APDL-Mode.  Display
all (locally) defined abbreviations with <b>C-u M-x list-abbrevs</b>
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type a "C-u M-x list-abbrevs" for a list of all mode defined abbreviations
!!
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbe2d0fc" class="outline-3">
<h3 id="orgbe2d0fc">Logical blocks</h3>
<div class="outline-text-3" id="text-orgbe2d0fc">
<p>
or control statements in "lesser" programming languages ;-)
</p>
</div>
<div id="outline-container-orgec6f88a" class="outline-4">
<h4 id="orgec6f88a">Closing of logical blocks</h4>
<div class="outline-text-4" id="text-orgec6f88a">
<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor below or behind the block statements and type "C-c ]"!
!!
*if,1,eq,1,then

*do,1,10

*dowhile,1

*create,test,mac
</pre>
</div>
<p>
Voila for every logical block type the proper closing statements:
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor in the empty lines and type "C-c ]"!
!!
*if,1,eq,1,then
*endif
*do,1,10
*enddo
*dowhile,1
*enddo
*create,test,mac
*end
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbf5f7ca" class="outline-4">
<h4 id="orgbf5f7ca">Auto-indentation</h4>
<div class="outline-text-4" id="text-orgbf5f7ca">
<div class="org-src-container">
<pre class="src src-ansys">!! Insert in between the following block e. g. a `*do' statement!
!! Conclude the line(s) with "C-j" to receive an automatic indentation.
!!
</pre>
</div>
<div class="org-src-container">
<pre class="src src-ansys">*if,I,eq,1,then

  /title,well well
*endif
</pre>
</div>
<p>
The line is indented too (don't forget to apply the shortcut <b>C-c
]</b> for closing blocks)
</p>
<div class="org-src-container">
<pre class="src src-ansys">*if,I,eq,1,then
  *if,J,eq,2,then
    /com,the line is indented, close it with "C-c ]"
  *endif
  /title,well well
*endif
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge0a8c2d" class="outline-3">
<h3 id="orge0a8c2d">Use the Emacs integrated RPN Calculator</h3>
<div class="outline-text-3" id="text-orge0a8c2d">
<p>
RPN means Reversed Polish Notation, HP calculators are using this
arguably superior input convention.  Please read the `Calc'
documentation (<b>C-h i</b> for accessing Emacs the documentation
system).  There is also a nice reference card for its keybindings.
</p>


<div class="figure">
<p><img src="./calculator.png" alt="calculator.png" />
</p>
</div>

<p>
Type <b>C-x</b> * * to open the calculator, type <b>y</b> for copying results
directly into the APDL file. <b>q</b> to quit the 'Emacs Calc' windows.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor behind the equal sign and type "C-x * *"!
!!
Pi =
!! Type "P" (capital `p') in `Calc' and paste the value back into
!! your APDL code with the &lt;y&gt; key, quit Calc with &lt;q&gt;.
</pre>
</div>
<p>
You are receiving
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor behind the equal sign and type "C-x * *"!
!!
Pi = 3.14159265359
!! Type "P" (capital p) in `Calc' and paste the value back into
</pre>
</div>
<p>
You might round the input
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "df" in Calc for `display fixed' and then &lt;3&gt; before pasting
!!
Pi =
</pre>
</div>
<p>
We are receiving now a more compact approximation of pi
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "df" in Calc for `display fixed' and then &lt;3&gt; before pasting
!!
Pi = 3.142
</pre>
</div>
<p>
I should have thought about a better example:
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Maybe above example is not so relevant because many of you are just
!! using
Pi = acos(-1)
!! instead, but I hope you are getting the idea why to use Calc ;-)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc6b7cf2" class="outline-3">
<h3 id="orgc6b7cf2">Highlighting APDL specials</h3>
<div class="outline-text-3" id="text-orgc6b7cf2">
<p>
TODO! for this tutorial: Colour the code snippets.
</p>
</div>
<div id="outline-container-org8cadf63" class="outline-4">
<h4 id="org8cadf63">Reserved words and _RETURN statements</h4>
<div class="outline-text-4" id="text-org8cadf63">
<div class="org-src-container">
<pre class="src src-ansys">!!
N = _RETURN	      ! return value of certain commands
_aaa = 9              ! reserved variables: preceding underscore "_"
d,1,ux,%_FIX%	      ! “current” relative displacement value
Depth  = ARG1         ! ARG{1-9}, AR{10-19} = "*use" variables
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfffbc6c" class="outline-4">
<h4 id="orgfffbc6c">Old style APDL comments</h4>
<div class="outline-text-4" id="text-orgfffbc6c">
<div class="org-src-container">
<pre class="src src-ansys">var1 = sinh(cos(3 *5)) ! old style Ansys comment!!!!!
var2 = sinh(cos(3*5))  ! this is valid code
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-orge7c0632" class="outline-4">
<h4 id="orge7c0632">Ignored characters behind commands</h4>
<div class="outline-text-4" id="text-orge7c0632">
<div class="org-src-container">
<pre class="src src-ansys">f $ fi $ fin $ fini $ finis  $ finish $ finisher
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-org3962bbc" class="outline-4">
<h4 id="org3962bbc">The End Of File command</h4>
<div class="outline-text-4" id="text-org3962bbc">
<div class="org-src-container">
<pre class="src src-ansys">/eof --- WARNING: /eof crashes the Ansys GUI in interactive mode ---
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcdc7164" class="outline-4">
<h4 id="orgcdc7164">Current element types and deprecated elements</h4>
<div class="outline-text-4" id="text-orgcdc7164">
<div class="org-src-container">
<pre class="src src-ansys">!! A current element type:
et,10,solid186
!! deprecated element types:
et,Steel,beam3 $ et,Alu,shell91
!!
</pre>
</div>
<p>
Let's change the element types to current ones!
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Complete the following element fragments to current ones!
!!
et,Steel,beam $ et,Alu,shell

</pre>
</div>
<p>
For example select the following elements
</p>
<div class="org-src-container">
<pre class="src src-ansys">et,Steel,beam188 $ et,Alu,shell28
</pre>
</div>
<p>
and you are getting a diffent element highlighting.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgddfa9fb" class="outline-2">
<h2 id="orgddfa9fb">APDL environment</h2>
<div class="outline-text-2" id="text-orgddfa9fb">
<p>
The APDL processing and debugging environment
  Finally switch off unnecessay stuff: Emacs' menu-, tool- and
  scroll-bar to get more screen estate.  :-) And tidying the window
  with removing above code.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Erase all APDL code above ("M-&lt; C-w")
!!
</pre>
</div>
</div>
<div id="outline-container-orga4a39a0" class="outline-3">
<h3 id="orga4a39a0">Choose the license type for a run</h3>
<div class="outline-text-3" id="text-orga4a39a0">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c C-t"!  And select the required license type Use the
!! &lt;TAB&gt; key to see the predefined types
</pre>
</div>
</div>
</div>
<div id="outline-container-org971db2b" class="outline-3">
<h3 id="org971db2b">Display the license status</h3>
<div class="outline-text-3" id="text-org971db2b">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c C-l"!  Checking which licenses are free, in particular
!! your chosen license
!!
</pre>
</div>

<p>
Your Desktop might look like the following: In Emacs' mid-section
you see the license state (<b>C-c C-l</b>).  Highlighted in red is your
chosen license type.  And in the left hand Emacs window below a
thumbnail view of images from a folder.
</p>


<div class="figure">
<p><img src="./license.png" alt="license.png" width="1000" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgcddb5f7" class="outline-3">
<h3 id="orgcddb5f7">Start the Ansys `solver/interpreter'</h3>
<div class="outline-text-3" id="text-orgcddb5f7">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c RET"!
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-orge71d37b" class="outline-3">
<h3 id="orge71d37b">Communication with the interpreter</h3>
<div class="outline-text-3" id="text-orge71d37b">
</div>
<div id="outline-container-org04f11e6" class="outline-4">
<h4 id="org04f11e6">Sending window (APDL file) contents</h4>
<div class="outline-text-4" id="text-org04f11e6">
<p>
The window is called a buffer in Emacs terminology, when you are
saveing the buffer content then it represents the file content.
To make everything unclear. ;-)
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Reinsert the `structural' template below
!!
</pre>
</div>
</div>
<div id="outline-container-org11b0bb9" class="outline-5">
<h5 id="org11b0bb9">Send a code line or region</h5>
<div class="outline-text-5" id="text-org11b0bb9">
<p>
Any time you communicate with the interpreter its output is shown in
the <code>*Ansys*</code> interactive window.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Go to the beginning of above code and
!! send the code line by line with "C-c C-c"!
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-org6387fe1" class="outline-5">
<h5 id="org6387fe1">Send above code (from the cursor up to the beginning)</h5>
<div class="outline-text-5" id="text-org6387fe1">
<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor below the `solve' command and
!! type "C-c C-u" sending all code up to the beginning!
!!
</pre>
</div>
<p>
<b>C-c C-u</b>, <b>C-c C-c</b> have changed their behaviour with the running
interpreter.  Without a running Ansys process they are sending the
code to the system clipboard instead.
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! We have got now data and results to work with
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org2b82fbe" class="outline-3">
<h3 id="org2b82fbe">Graphical feedback and graphics interaction</h3>
<div class="outline-text-3" id="text-org2b82fbe">
<p>
Receive graphical feedback from the interpreter
</p>
</div>
<div id="outline-container-orgd8ad443" class="outline-4">
<h4 id="orgd8ad443">Open the `interactive graphics' window of Ansys</h4>
<div class="outline-text-4" id="text-orgd8ad443">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c C-g" to open the Ansys `interactive' graphics frame.
!! Then send the following line with "C-c C-c".
!!
eplot
</pre>
</div>


<div class="figure">
<p><img src="./process.png" alt="process.png" width="1000" />
</p>
</div>

<p>
Unfortunately there are 4 severe restrictions using this approach.
Firstly: It is not possible to interact directly with the graphics
except with APDL commands and through the Pan/Zoom/Rotate dialog!
This means there is no `picking' possible.  And secondly: As long as
the dialog is open <b>no</b> other communication is possible! And thirdly:
The size of the graphics is fixed. And fourthly: You must replot every
time the graphics frame was hidden by other graphics (Desktop
switching, etc.)!
</p>
</div>
<div id="outline-container-org255b6a6" class="outline-5">
<h5 id="org255b6a6">Open the Ansys Pan/Zoom/Rotate dialog</h5>
<div class="outline-text-5" id="text-org255b6a6">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c C-p" to open the Ansys Pan/Zoom/Rotate dialog!
!!
</pre>
</div>

<p>
To alleviate these severe restrictions APDL-Mode provides keybindings
for replotting, zooming, fitting and moving graphical objects.
</p>
</div>
</div>
<div id="outline-container-org530d0d6" class="outline-5">
<h5 id="org530d0d6">Use the keybindings for zooming</h5>
<div class="outline-text-5" id="text-org530d0d6">
<div class="org-src-container">
<pre class="src src-ansys">!! "C-c C-+" Enlarge it
!! "C-c C-f" Fit the graphics
!! "C-c C--" Shrink it
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-org0da70f0" class="outline-5">
<h5 id="org0da70f0">Use the keybindings for moving</h5>
<div class="outline-text-5" id="text-org0da70f0">
<div class="org-src-container">
<pre class="src src-ansys">!! "C-c C-&gt;" Move right
!! "C-c C-_" Move down
!! "C-c C-&lt;" Move left
!! "C-c C-^" Move up
!!
</pre>
</div>
<p>
Hint: Use Emacs `repeat' command <b>C-x z</b>, after its use already the
&lt;z&gt; key alone is repeating your command!
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! For these long keybindings Emacs' `repeat' command "C-x z" is helpful
!! Insert "C-c C-&lt;" and then "C-x z zzzzz"
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-org65c114b" class="outline-5">
<h5 id="org65c114b">Use the keybindings for replotting and iso-view</h5>
<div class="outline-text-5" id="text-org65c114b">
<div class="org-src-container">
<pre class="src src-ansys">!! "C-c C-i" Show in Iso-view
!! "C-c C-r" Replot the graphics
!!
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4ea7c1a" class="outline-4">
<h4 id="org4ea7c1a">Sending directly to the interpeter</h4>
<div class="outline-text-4" id="text-org4ea7c1a">
</div>
<div id="outline-container-org4cf6c35" class="outline-5">
<h5 id="org4cf6c35">Direct communication from the APDL window</h5>
<div class="outline-text-5" id="text-org4cf6c35">
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c C-q" and send your input directly to the interpreter!
!! You are getting `queried' for input by Emacs.
!! Input here: "/post1 &lt;RET&gt;" and then "C-c C-q set,list"
!!
</pre>
</div>
</div>
</div>
<div id="outline-container-org0c09a4f" class="outline-5">
<h5 id="org0c09a4f">Direct communication from the <code>*Ansys*</code> interactive window</h5>
<div class="outline-text-5" id="text-org0c09a4f">
<div class="org-src-container">
<pre class="src src-ansys">!! Place the cursor in the *Ansys* interactive window and write
!! "plnsol,u,sum", conclude the input with &lt;RET&gt;.
!!
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org5bb1dfd" class="outline-3">
<h3 id="org5bb1dfd">Visiting the Ansys error file</h3>
<div class="outline-text-3" id="text-org5bb1dfd">
<p>
The solver error file (\*.err) is opened in tail-follow mode,
i. e. you are seeing always the latest contend. (<b>C-c C-e</b>)
</p>
<div class="org-src-container">
<pre class="src src-ansys">!! Type "C-c C-e" to open the run's error file in `tail-follow mode'!
!! Always the latest content is shown...
!!
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org0370647" class="outline-2">
<h2 id="org0370647">Appendix</h2>
<div class="outline-text-2" id="text-org0370647">
</div>
<div id="outline-container-orgbe329ae" class="outline-3">
<h3 id="orgbe329ae">Regarding Emacs' keybindings</h3>
<div class="outline-text-3" id="text-orgbe329ae">
<p>
Even when these keybindings at first seem foreign and unhandy, an
additional advantage getting used to them is the fact that the
<b>bash</b> shell can also be operated with the most often used.
</p>
</div>
</div>
</div>

<div id="outline-container-orgbf3ecee" class="outline-2">
<h2 id="orgbf3ecee">Summary and Acknowledgements</h2>
<div class="outline-text-2" id="text-orgbf3ecee">
<p>
Thank you for your time, have fun with Emacs&#x2026;
</p>


<div class="figure">
<p><img src="./editor_learning_curves.jpg" alt="editor_learning_curves.jpg" width="640" />
</p>
</div>
</div>

<div id="outline-container-orgc0bf2b2" class="outline-3">
<h3 id="orgc0bf2b2">Acknowledgements</h3>
<div class="outline-text-3" id="text-orgc0bf2b2">
<dl class="org-dl">
<dt>Carsten Dominik</dt><dd>Ingenious <a href="https://orgmode.org/">Org-mode</a> for Emacs</dd>
<dt><a href="http://stallman.org/">RMS</a></dt><dd><a href="http://www.gnu.org/software/emacs/">GNU Emacs</a> and many other great ideas and programs</dd>
</dl>


<hr />
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: Time-stamp: <span class="timestamp-wrapper"><span class="timestamp">&lt;2020-05-01 Fr&gt;</span></span></p>
<p class="author">Author: H. Dieter Wilhelm</p>
<p class="date">Created: 2021-09-09 Do 15:48</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
